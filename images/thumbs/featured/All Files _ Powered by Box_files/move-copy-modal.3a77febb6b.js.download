(window.webpackJsonp=window.webpackJsonp||[]).push([["move-copy-modal"],{"1CG8sUsZUc":function(e,t,r){"use strict";var n=r("JRPeW/Ew/U"),o=Object(n.defineMessages)({completed:{id:"enduser.moveCopyModal.completed",defaultMessage:"Completed"},copyOperationDetails:{id:"enduser.moveCopyModal.copyOperationDetails",defaultMessage:"Copy Operation Details"},details:{id:"enduser.moveCopyModal.details",defaultMessage:"Details"},failed:{id:"enduser.moveCopyModal.failed",defaultMessage:"Failed"},modalTitle:{id:"enduser.moveCopyModal.modalTitle",defaultMessage:'{itemCount, plural, =1 {Move or Copy "{itemName}"} other {Move or Copy the Selected Items}}'},modalDescription:{id:"enduser.moveCopyModal.modalDescription",defaultMessage:"Select a destination folder."},moveButtonText:{id:"enduser.moveCopyModal.moveButtonText",defaultMessage:"Move"},moveCopyButtonText:{id:"enduser.moveCopyModal.moveCopyButtonText",defaultMessage:"Move or Copy"},moveOperationDetails:{id:"enduser.moveCopyModal.moveOperationDetails",defaultMessage:"Move Operation Details"},undoAll:{id:"enduser.moveCopyModal.undoAll",defaultMessage:"Undo All"}});t.a=o},PBNYkNogt5:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return u}));var n=8e3,o="copy",a="move",i="delete",u="transfer_ownership"},"Rm6+uLbDRr":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n="item/DELETE",o="item/RESTORE"},c8XeWIoaJc:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("fQsIn8m0Jq"),o=r("SEDkZASdWh"),a=Object(o.a)({loader:function(){return Promise.all([r.e("as-security~change-current-user-role-modal~collaborators~collection-detail-page~content-explorer-mod~244fdb54"),r.e("as-security~change-current-user-role-modal~collaborators~collection-detail-page~content-explorer-mod~4d6cb523"),r.e("content-explorer-modal")]).then(r.bind(null,"dg0Y7UZElt")).then((function(e){return n.a.register({contentExplorer:e.reducer}),e.ContentExplorerModalContainer}))},delay:0})},dOQSqk8Iu2:function(e,t,r){"use strict";var n=r("JRPeW/Ew/U"),o=Object(n.defineMessages)({delete:{id:"enduser.delete.delete",defaultMessage:"Delete"},restoreSuccessNotification:{id:"enduser.delete.restoreSuccessNotification",defaultMessage:"{itemCount, plural, =1 {Item restored successfully.} other {Items restored successfully.}}"},trash:{id:"enduser.delete.trash",defaultMessage:"Trash"}});t.a=o},fyYIIOL14R:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return s})),r.d(t,"h",(function(){return l}));var n=function(e){return e.moveCopyModal.copyRequestState},o=function(e){return e.moveCopyModal.destName},a=function(e){return e.moveCopyModal.destTypedID},i=function(e){return e.moveCopyModal.modalData},u=function(e){return e.moveCopyModal.moveRequestState},c=function(e){return e.moveCopyModal.sourceName},s=function(e){return e.moveCopyModal.sourceTypedID},l=function(e){return e.moveCopyModal.undoRequestState}},"hf042dOTh+":function(e,t,r){"use strict";var n=r("jyz5Lsk3MC"),o=r("Iqkazkw3SQ"),a=r("oB2klZje1l"),i=r("tGiIrIA8S4"),u=r("TnLiKFH8iw"),c=r("Rm6+uLbDRr"),s=r("dOQSqk8Iu2"),l=r("DsjO9S6Fjf");function p(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,u,"next",e)}function u(e){p(a,n,o,i,u,"throw",e)}i(void 0)}))}}var f=Object(o.b)(c.a,function(){var e=d(regeneratorRuntime.mark((function e(t,r){var o,i,u,s,p,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.allowUndo,i=t.errorNotificationText,u=t.itemTypedIDs,s=t.parentFolderID,p=t.successNotificationText,e.prev=1,e.next=4,Object(n.g)("/app-api/enduserapp/items/delete",{itemTypedIDs:u});case 4:return d=e.sent,p&&(f=o&&void 0!==s&&!d.isTrashDisabled,r(Object(a.g)(p,void 0,l.a,{canUndo:f,itemTypedIDs:d.successItemTypedIDs,parentFolderID:s}))),e.abrupt("return",d);case 9:throw e.prev=9,e.t0=e.catch(1),i&&r(Object(a.f)({message:i,origin:c.a})),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()),m=Object(o.b)(c.b,function(){var e=d(regeneratorRuntime.mark((function e(t,r){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.itemTypedIDs,c=t.parentFolderID,e.next=3,Object(n.g)("/app-api/enduserapp/trash/restore",{itemTypedIDs:o,parentFolderID:c});case 3:o.forEach((function(e){return r(Object(u.a)({newItemTypedID:e,targetFolderID:c}))})),r(Object(a.g)(i.b.formatMessage(s.a.restoreSuccessNotification,{itemCount:o.length})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return m}))},lPKbJTD12z:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("+qFEQhy/27"),o=function(e,t){return Object(n.b)(e,t).reduce((function(e,t){return"folder"===t.type?e+t.filesCount:"file"===t.type?e+1:e}),0)}},"o3AjS70/bS":function(e,t,r){"use strict";r.r(t);var n=r("/MKjzBatqn"),o=r("w/CIkbGFbD"),a=r("fyYIIOL14R"),i=r("q1tIBJhxTW"),u=r("JRPeW/Ew/U"),c=r("c8XeWIoaJc"),s=r("8Uoiwx9NYF"),l=r("zfug/tAS+n"),p=r("JPcvh7FMFD"),d=Object(p.Record)({failures:Object(p.List)(),message:"",successes:Object(p.List)()}),f=r("1CG8sUsZUc");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?h(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=i.createElement(u.FormattedMessage,f.a.modalDescription),T=function(e){return l.b.recordAction(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({component:"modal",feature:"movecopy",action:"click"},e))},C=function(e){function t(){var e,r;b(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return I(h(r=O(this,(e=g(t)).call.apply(e,[this].concat(o)))),"onClose",(function(){var e=r.props.onRequestClose;return l.b.recordAction({component:"modal",feature:"movecopy",target:"close",action:"click"}),e()})),I(h(r),"copyItems",(function(e){var t=r.props.copyItems;T({target:"copy"}),t(e)})),I(h(r),"moveItems",(function(e){var t=r.props.moveItems;T({target:"move"}),t(e)})),r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),r=t,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.copyRequestState,n=t.moveRequestState;(e.copyRequestState.status===s.c&&r.status===s.e||e.moveRequestState.status===s.c&&n.status===s.e)&&this.onClose()}},{key:"render",value:function(){var e=this.props,t=e.copyRequestState,r=e.folderName,n=e.folderTypedID,o=e.isOpen,a=e.itemName,l=e.itemTypedIDs,p=e.moveRequestState;if(!o)return null;var d=t.status===s.c,m=p.status===s.c;return i.createElement(c.a,{contentExplorerMode:"moveCopy","data-resin-component":"modal","data-resin-feature":"movecopy",description:w,isCopyButtonLoading:d,isMoveButtonLoading:m,isOpen:!0,itemName:"string"===typeof r?r:void 0,itemTypedID:n,onCopyItem:this.copyItems,onMoveItem:this.moveItems,onRequestClose:d||m?void 0:this.onClose,showCreateNewFolderButton:!1,title:i.createElement(u.FormattedMessage,y({},f.a.modalTitle,{values:{itemName:a,itemCount:l.length}}))})}}])&&v(r.prototype,n),o&&v(r,o),t}(i.Component),P=r("ycMRJcnOvZ");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S,k=Object(n.connect)((function(e){return{moveRequestState:Object(a.e)(e),copyRequestState:Object(a.a)(e),modalData:Object(a.d)(e),destTypedID:Object(a.c)(e),destName:Object(a.b)(e)}}),(function(e,t){var r=t.itemTypedIDs,n=t.folderTypedID,o=t.folderName;return{copyItems:function(t){var n=t.id,o=t.name;return e(Object(P.a)(r,"d_".concat(n),!0,o))},moveItemsAction:function(t){var a=t.destName,i=t.destTypedID,u=t.isConfirmationRequired,c=t.makeCollaboratedSubfolderPrivate,s=t.ownershipChangeConfirmationRequired;return e(Object(P.b)({destName:a,destTypedID:i,itemTypedIDs:r,isConfirmationRequired:u,makeCollaboratedSubfolderPrivate:c,ownershipChangeConfirmationRequired:s,sourceName:o,sourceTypedID:n}))}}}),(function(e,t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t,{},r,{moveItems:function(e){var r=e.id,n=e.name;return t.moveItemsAction({destName:n,destTypedID:"d_".concat(r),makeCollaboratedSubfolderPrivate:!1,ownershipChangeConfirmationRequired:!0,isConfirmationRequired:!0})}})}))(Object(o.g)(C,"movecopy")),E=r("e7SQulcBac"),q=Object(p.Record)({createdItemTypedID:null,errorCode:null,itemName:null,itemTypedID:null,message:null});function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=function(){return{copyRequestState:s.l.init,moveRequestState:s.l.init,modalData:new d,destName:null,destTypedID:null,sourceName:null,sourceTypedID:null,undoRequestState:s.l.init}},_=function(e){return new d(Object(p.fromJS)(e,(function(e,t){return"failures"===e||"successes"===e?t.toList().map((function(e){return new q(e)})):t})))},B=Object(E.a)((A(S={},P.b.request,(function(e,t){var r=t.payload,n=r.destTypedID,o=r.sourceTypedID,a=r.destName,i=r.sourceName;return x({},e,{moveRequestState:s.l.loading,destName:a,destTypedID:n,sourceName:i,sourceTypedID:o})})),A(S,P.b.error,(function(e,t){var r=t.payload;return x({},e,{modalData:_(r.data),moveRequestState:s.l.error(r)})})),A(S,P.b.success,(function(e,t){var r=t.payload,n=e.modalData.update("successes",(function(){return 0!==e.modalData.failures.size?Object(p.List)():_(r).successes})).update("failures",(function(e){return e.filter((function(e){return!r.successes.map((function(e){return e.itemTypedID})).includes(e.itemTypedID)}))}));return x({},e,{modalData:n,moveRequestState:s.l.success})})),A(S,P.a.request,(function(e,t){var r=t.meta.args[1];return x({},e,{copyRequestState:s.l.loading,destTypedID:r})})),A(S,P.a.error,(function(e,t){var r=t.payload;return x({},e,{modalData:_(r.data),copyRequestState:s.l.error(r)})})),A(S,P.a.success,(function(e,t){var r=t.payload;return x({},e,{modalData:_(r),copyRequestState:s.l.success})})),A(S,P.d.request,(function(e){return x({},e,{undoRequestState:s.l.loading})})),A(S,P.d.error,(function(e,t){var r=t.payload;return x({},e,{undoRequestState:s.l.error(r)})})),A(S,P.d.success,(function(e,t){var r=t.payload;return x({},e,{modalData:e.modalData.update("successes",(function(e){return e.filter((function(e){return!r.includes(e.createdItemTypedID)}))})),undoRequestState:s.l.success})})),A(S,P.e.request,(function(e){return x({},e,{undoRequestState:s.l.loading})})),A(S,P.e.error,(function(e,t){var r=t.payload;return x({},e,{undoRequestState:s.l.error(r)})})),A(S,P.e.success,(function(e,t){var r=t.payload.itemTypedIDs;return x({},e,{modalData:e.modalData.update("successes",(function(e){return e.filter((function(e){return!r.includes(e.itemTypedID)}))})),undoRequestState:s.l.success})})),A(S,P.c.toString(),F),S),F()),L=r("ZEDLez+ZlJ"),J=r("VzvVVBGVbW"),U=r("VkpqedpQd0"),z=r("V92n2Hcr93"),Z=r("ecNk8yvCNS");r("vH/fWglRG7");function K(e){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?H(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=function(e){function t(){var e,r;W(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return X(H(r=V(this,(e=Q(t)).call.apply(e,[this].concat(o)))),"getSuccessfulTypedIDs",(function(){return r.props.modalData.successes.map((function(e){var t=e.itemTypedID;return e.createdItemTypedID||t})).toJS()})),X(H(r),"undoAll",(function(){(0,r.props.undo)(r.getSuccessfulTypedIDs())})),r}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),r=t,(n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.modalData,r=e.onRequestClose,n=t.successes,o=t.failures;0===n.size&&0===o.size&&r()}},{key:"isLoading",value:function(){return this.props.undoRequestState.status===s.c}},{key:"renderCompletedOperations",value:function(){var e=this.props,t=e.undo,r=e.modalData.successes;if(0===r.size)return null;var n=this.isLoading();return i.createElement("div",null,i.createElement("h3",null,i.createElement(u.FormattedMessage,f.a.completed)),i.createElement("ul",{className:"scrollable-list completed-operations"},r.map((function(e){var r=e.createdItemTypedID,o=e.itemName,a=e.itemTypedID;return i.createElement("li",{key:a},i.createElement("div",null,o),i.createElement(J.default,{isDisabled:n,onClick:function(){return t([r||a])},type:"button"},i.createElement(u.FormattedMessage,z.a.undo)))}))))}},{key:"renderFailedOperations",value:function(){var e=this.props,t=e.moveAndMakeCollaboratedSubfolderPrivate,r=e.moveRequestState,n=e.modalData.failures;if(0===n.size)return null;var o=r.status===s.c;return i.createElement("div",null,i.createElement("h3",null,i.createElement(u.FormattedMessage,f.a.failed)),i.createElement("ul",{className:"scrollable-list failed-operations"},n.map((function(e){var r=e.errorCode,n=e.itemTypedID,a=e.itemName,c=e.message;return i.createElement("li",{key:n},i.createElement("div",null,i.createElement("b",null,a),i.createElement("p",null,c)),"cannot_make_collaborated_subfolder_private"===r&&i.createElement(J.default,{isDisabled:o,onClick:function(){return t([n])},type:"button"},i.createElement(u.FormattedMessage,f.a.moveButtonText)))}))))}},{key:"render",value:function(){var e=this.props,t=e.onRequestClose,r=e.modalData,n=e.type,a=r.successes,c=n===Z.i?i.createElement(u.FormattedMessage,f.a.moveOperationDetails):i.createElement(u.FormattedMessage,f.a.copyOperationDetails),s=this.isLoading();return i.createElement(o.d,{className:"move-copy-operation-details",isOpen:!0,onRequestClose:t,title:c},this.renderCompletedOperations(),this.renderFailedOperations(),i.createElement(U.ModalActions,null,i.createElement(J.default,{isDisabled:s,onClick:t,type:"button"},i.createElement(u.FormattedMessage,z.a.cancelButtonText)),a.size>0&&i.createElement(L.default,{isDisabled:s,onClick:this.undoAll},i.createElement(u.FormattedMessage,f.a.undoAll))))}}])&&G(r.prototype,n),a&&G(r,a),t}(i.Component);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re={undoCopyItemsAction:P.d,undoMoveItemsAction:P.e,moveItemsAction:P.b},ne=Object(n.connect)((function(e){return{destName:Object(a.b)(e),destTypedID:Object(a.c)(e),modalData:Object(a.d)(e),moveRequestState:Object(a.e)(e),sourceName:Object(a.f)(e),sourceTypedID:Object(a.g)(e),undoRequestState:Object(a.h)(e)}}),re,(function(e,t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t,{},r,{moveAndMakeCollaboratedSubfolderPrivate:function(r){return t.moveItemsAction({itemTypedIDs:r,destName:e.destName,destTypedID:e.destTypedID,makeCollaboratedSubfolderPrivate:!0,ownershipChangeConfirmationRequired:!1})},undo:function(n){return r.type===Z.i?t.undoMoveItemsAction({itemTypedIDs:n,originalParentTypedID:e.sourceTypedID,originalParentName:e.sourceName}):t.undoCopyItemsAction(n)}})}))($),oe=r("tKo2w/h5Bc"),ae=r("edfMKrmZUX"),ie=r("VnRHKiL5Hx"),ue=r("oB2klZje1l");function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var le=function(e){var t=e.children,r=e.failures,n=e.onClose,o=e.openDetailsModal,a=e.operationType,c=e.sourceTypedID,s=e.successes,l=e.undo,p=se(e,["children","failures","onClose","openDetailsModal","operationType","sourceTypedID","successes","undo"]),d=0===r.length&&1===s.length,m=a===Z.h||a===Z.i&&"string"===typeof c;return i.createElement(ie.Notification,ce({onClose:n},p),i.createElement("span",null,t),d&&m&&i.createElement(J.default,{className:"undo-btn",onClick:function(){l(s[0].createdItemTypedID||s[0].itemTypedID),n()},type:"button"},i.createElement(u.FormattedMessage,z.a.undo)),d&&i.createElement(ue.c,{itemTypedID:s[0].createdItemTypedID||s[0].itemTypedID,onClose:n}),(r.length>0||s.length>1)&&i.createElement(J.default,{className:"details-btn",onClick:function(){o(),n()},type:"button"},i.createElement(u.FormattedMessage,f.a.details)))};function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fe={openModalAction:ae.b,undoMoveItemsAction:P.e,undoCopyItemsAction:P.d},me=Object(n.connect)((function(e){return{sourceTypedID:Object(a.g)(e),sourceName:Object(a.f)(e)}}),fe,(function(e,t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t,{},r,{openDetailsModal:function(){return t.openModalAction({activeModal:oe.O,modalProps:{type:r.operationType}})},undo:function(n){return r.operationType===Z.i?t.undoMoveItemsAction({itemTypedIDs:[n],originalParentTypedID:e.sourceTypedID,originalParentName:e.sourceName}):t.undoCopyItemsAction([n])}})}))(le);r.d(t,"MoveCopyModal",(function(){return k})),r.d(t,"reducer",(function(){return B})),r.d(t,"MoveCopyOperationDetailsModal",(function(){return ne})),r.d(t,"MoveCopyNotification",(function(){return me}))},"vH/fWglRG7":function(e,t,r){},ycMRJcnOvZ:function(e,t,r){"use strict";r.d(t,"b",(function(){return T})),r.d(t,"a",(function(){return R})),r.d(t,"c",(function(){return j})),r.d(t,"e",(function(){return C})),r.d(t,"d",(function(){return S}));var n=r("aWKKml4MOj"),o=r("q9wI8Vu9Ou"),a=r("oB2klZje1l"),i=r("Iqkazkw3SQ"),u=r("jyz5Lsk3MC"),c=r("tGiIrIA8S4"),s=r("V92n2Hcr93"),l=r("w/CIkbGFbD"),p=r("hf042dOTh+"),d=r("i2Hg0G80Vo"),f=r("edfMKrmZUX"),m=r("tKo2w/h5Bc"),y=r("lPKbJTD12z"),b=r("PBNYkNogt5"),v=r("ecNk8yvCNS"),O=r("qCDQs0PX2u");function g(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){g(a,n,o,i,u,"next",e)}function u(e){g(a,n,o,i,u,"throw",e)}i(void 0)}))}}var j=Object(n.a)(O.c),D=function(e,t,r,n){var o=e.failures,i=void 0===o?[]:o,u=e.successes,c=void 0===u?[]:u;i.length>0&&0===c.length?t(Object(a.f)({customKey:v.g,message:e.message,origin:n,props:{operationType:r,failures:i,successes:c}})):t((i.length>0&&c.length>0&&a.i||a.g)(e.message,void 0,v.g,{operationType:r,failures:i,successes:c}))};function I(e,t,r,n,o,a,i,u){return w.apply(this,arguments)}function w(){return(w=h(regeneratorRuntime.mark((function e(t,r,n,o,a,i,c,s){var p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(d.b)()),e.prev=1,e.next=4,Object(u.g)("/app-api/enduserapp/items/move",{itemTypedIDs:r,destTypedID:n,makeCollaboratedSubfolderPrivate:o,ownershipChangeConfirmationRequired:a,isConfirmationRequired:i});case 4:return p=e.sent,D(p,t,v.i,O.b),p.itemTypedIDs=r,p.newParentTypedID=n,p.newParentName=c,e.abrupt("return",p);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.data=e.t0.data||{},y=e.t0.data.confirmationType,e.t0.errorCode!==v.a?(D(e.t0.data,t,v.i,O.b),t(Object(l.e)())):t(Object(f.b)({activeModal:m.k,modalProps:{confirmationType:y,itemTypedIDs:r,operationType:v.i,sourceTypedID:s}})),e.t0;case 18:return e.prev=18,t(Object(d.a)()),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,12,18,21]])})))).apply(this,arguments)}var T=Object(i.b)(O.b,function(){var e=h(regeneratorRuntime.mark((function e(t,r,n){var a,i,u,c,s,l,p,d,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.destName,i=t.destTypedID,u=t.isConfirmationRequired,c=t.itemTypedIDs,s=t.makeCollaboratedSubfolderPrivate,l=t.ownershipChangeConfirmationRequired,t.sourceName,p=t.sourceTypedID,d=n(),v=Object(y.a)(d,c),!(Object(o.k)(d,"lfoNotification")&&u&&v>b.a)){e.next=5;break}return e.abrupt("return",new Promise((function(e,t){var n,o={filesCount:v,operationType:b.d,destinationFolderName:a,onConfirm:(n=h(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(r,c,i,s,l,u,a,p);case 3:o=n.sent,e(o),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),function(){return n.apply(this,arguments)})};r(Object(f.b)({activeModal:m.j,modalProps:o}))})));case 5:return e.abrupt("return",I(r,c,i,s,l,u,a,p));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),C=Object(i.b)(O.e,function(){var e=h(regeneratorRuntime.mark((function e(t,r){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.itemTypedIDs,o=t.originalParentTypedID,i=t.originalParentName,r(Object(d.b)()),e.prev=2,e.next=5,Object(u.g)("/app-api/enduserapp/items/move",{itemTypedIDs:n,destTypedID:o,makeCollaboratedSubfolderPrivate:!0,ownershipChangeConfirmationRequired:!1,isConfirmationRequired:!1});case 5:return r(Object(a.g)(c.b.formatMessage(s.a.undone))),e.abrupt("return",{itemTypedIDs:n,newParentTypedID:o,newParentName:i});case 9:throw e.prev=9,e.t0=e.catch(2),r(Object(a.f)({message:e.t0.data&&e.t0.data.message||c.b.formatMessage(s.a.genericRequestErrorMessage),origin:O.e})),e.t0;case 13:return e.prev=13,r(Object(d.a)()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t,r){return e.apply(this,arguments)}}());function P(e,t,r,n){return M.apply(this,arguments)}function M(){return(M=h(regeneratorRuntime.mark((function e(t,r,n,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(d.b)()),e.prev=1,e.next=4,Object(u.g)("/app-api/enduserapp/items/copy",{itemTypedIDs:r,destTypedID:n,isConfirmationRequired:o});case 4:return a=e.sent,D(a,t,v.h,O.a),t(Object(l.e)()),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.data=e.t0.data||{},i=e.t0.data.confirmationType,e.t0.errorCode!==v.a?(D(e.t0.data||{},t,v.h,O.a),t(Object(l.e)())):t(Object(f.b)({activeModal:m.k,modalProps:{confirmationType:i,itemTypedIDs:r,operationType:v.h,sourceTypedID:null}})),e.t0;case 16:return e.prev=16,t(Object(d.a)()),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])})))).apply(this,arguments)}var R=Object(i.b)(O.a,function(){var e=h(regeneratorRuntime.mark((function e(t,r,n,a,i,u){var c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u(),s=Object(y.a)(c,t),!(Object(o.k)(c,"lfoNotification")&&n&&s>b.a)){e.next=4;break}return e.abrupt("return",new Promise((function(e,o){var u,c={filesCount:s,operationType:b.b,destinationFolderName:a,onConfirm:(u=h(regeneratorRuntime.mark((function a(){var u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P(i,t,r,n);case 3:u=a.sent,e(u),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),o(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),function(){return u.apply(this,arguments)})};i(Object(f.b)({activeModal:m.j,modalProps:c}))})));case 4:return e.abrupt("return",P(i,t,r,n));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,o,a,i){return e.apply(this,arguments)}}()),S=Object(i.b)(O.d,function(){var e=h(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Object(d.b)()),e.next=3,r(Object(p.a)({allowUndo:!1,errorNotificationText:c.b.formatMessage(s.a.genericRequestErrorMessage),itemTypedIDs:t,successNotificationText:c.b.formatMessage(s.a.undone)}));case 3:if(!((n=e.sent)instanceof Error)){e.next=6;break}throw n;case 6:return r(Object(d.a)()),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}}]);